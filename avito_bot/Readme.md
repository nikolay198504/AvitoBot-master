# Let's create a README.md file in Russian with the provided details.

readme_content = """
# Avito и ChatGPT Бот

Этот проект представляет собой бота, который интегрируется с API Avito для поиска товаров по ключевым словам и использует ChatGPT от OpenAI для генерации ответов на основе пользовательских запросов. Бот автоматически обновляет свой токен доступа к API Avito каждые 55 минут и обрабатывает ошибки, логируя их и при необходимости отправляя уведомления на электронную почту администраторов.

## Возможности

- **Автоматическое обновление токена**: Бот автоматически обновляет свой токен доступа к API Avito каждые 55 минут.
- **Поиск товаров на Avito**: Выполнение поиска по Avito на основе указанных ключевых слов.
- **Интеграция с ChatGPT**: Генерация ответов с использованием модели GPT от OpenAI на основе пользовательских запросов.
- **Логирование ошибок**: Ошибки записываются в файл и могут быть отправлены администраторам на электронную почту.

## Установка

1. Клонируйте репозиторий:
    ```bash
    git clone https://github.com/your-username/your-repo-name.git
    ```

2. Установите необходимые зависимости:
    ```bash
    pip install -r requirements.txt
    ```

3. Настройте переменные окружения для ключей API:
    - API ключ OpenAI
    - Client ID и Secret для API Avito

4. Обновите файл `settings.py` с вашими настройками электронной почты для включения логирования ошибок через email.

## Использование

1. **Запустите Бота**:
    ```bash
    python bot.py
    ```

2. **Проверьте отправку тестового письма**:
    Чтобы убедиться, что настройки электронной почты корректны, отправьте тестовое письмо администраторам:

    ```python
    from django.core.mail import EmailMessage

    email = EmailMessage(
        'Test email to admins',
        'This is a test email sent to admins to verify logging setup.',
        'your-email@example.com',  # Отправитель
        ['admin1@example.com', 'admin2@example.com']  # Получатели
    )
    email.send(fail_silently=False)
    ```

3. **Создайте искусственную ошибку и проверьте отправку логов**:
    Вы можете сымитировать ошибку, чтобы проверить работу системы логирования и отправки уведомлений по email:

    ```python
    import logging

    try:
        1 / 0  # Искусственно создаем ошибку ZeroDivisionError
    except ZeroDivisionError as e:
        logging.getLogger('django').error('Test error: Division by zero', exc_info=e)
    ```

    Ошибка будет записана в лог-файл, и, если все настроено правильно, письмо с информацией об ошибке будет отправлено администраторам.

## Обзор кода

### `bot.py`

- **Настройка логирования**: Логи хранятся в файле `bot.log` для отслеживания активности бота и ошибок.
- **API OpenAI**: Интеграция с моделью GPT от OpenAI с использованием предоставленного API ключа.
- **Интеграция с API Avito**:
  - `get_avito_token()`: Получает новый токен доступа от API Avito.
  - `auto_refresh_token()`: Фоновый процесс, автоматически обновляющий токен API Avito каждые 55 минут.
  - `search_avito()`: Выполняет поисковый запрос на Avito с использованием текущего токена доступа.
- **Обработка ошибок**:
  - Ошибки, возникающие при запросах к API или при работе с ChatGPT, записываются в лог.
  - Критические ошибки приводят к отправке уведомления на электронную почту администраторам.

### Недавние изменения

- **Автоматическое обновление токена**: Добавлен фоновый поток для обновления токена API Avito каждые 55 минут, что гарантирует непрерывный доступ к API.
- **Уведомления о критических ошибках по email**: Настроено логирование в Django для отправки писем администраторам при возникновении критических ошибок.
- **Улучшенное логирование**: Логируются все ключевые операции и ошибки, включая ответы от API и исключения.

## Лицензия

Этот проект лицензирован по лицензии MIT - см. файл [LICENSE](LICENSE) для подробностей.

## Вклад в проект

Если вы хотите внести свой вклад в проект, форкните репозиторий и отправьте пул-реквест с вашими изменениями.

## Контакты

По всем вопросам обращайтесь по адресу [your-email@example.com].
"""

# Save the content to README.md
with open("README.md", "w", encoding="utf-8") as file:
    file.write(readme_content)

